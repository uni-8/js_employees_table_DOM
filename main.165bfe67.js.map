{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","form","createElement","addTableSorting","clickedHeaderIndex","tHead","addEventListener","headClickHandler","event","target","cellIndex","index","sortedRows","tBodies","rows","sort","a","b","first","cells","textContent","second","includes","replace","isNaN","localeCompare","append","sortList","addRowSelecting","selectedRow","makePassive","tagName","classList","remove","makeActive","parentElement","add","createForm","insertAdjacentHTML","body","addNewEmployeeAppending","isWrongData","lastElementChild","addToTable","preventDefault","name","value","length","pushNotification","position","office","age","salary","newEmployee","Number","toLocaleString","elements","forEach","i","getAttribute","createNewEmployee","top","right","title","description","type","message","className","style","setTimeout","addTableEditing","userSelect","editCell","cell","initValue","input","addEdit","innerHTML","width","window","getComputedStyle","padding","focus","checkKey","keyboardEvent","code"],"mappings":";AAAA,aAwTC,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAtTD,IAAMA,EAAQC,SAASC,cAAc,SAC/BC,EAAOF,SAASG,cAAc,QAQpC,SAASC,IACHC,IAAAA,EAAqB,KAEzBN,EAAMO,MAAMC,iBAAiB,QAEpBC,SAAiBC,GACxBJ,EAAsBA,IAAuBI,EAAMC,OAAOC,UACtDF,EAAMC,OAAOC,UACb,KAKYC,EAHPH,EAAMC,OAAOC,UAIhBE,EAAa,EAAId,EAAMe,QAAQ,GAAGC,MAAMC,KAAK,SAACC,EAAGC,GACjDC,IAAAA,EAAQF,EAAEG,MAAMR,GAAOS,YACvBC,EAASJ,EAAEE,MAAMR,GAAOS,YAOxBhB,OALAc,EAAMI,SAAS,OACjBJ,EAAQA,EAAMK,QAAQ,QAAS,IAC/BF,EAASA,EAAOE,QAAQ,QAAS,KAG/BnB,IAAuBO,EAClBa,OAAON,GACVA,EAAMO,cAAcJ,IAClBH,GAAWG,EAEVG,OAAON,GACVG,EAAOI,cAAcP,IACnBG,GAAYH,KAItBpB,EAAAA,EAAMe,QAAQ,IAAGa,OAAUd,MAAAA,EAAAA,EAAAA,IArBpBe,IAAShB,EAAO,EACjBC,IAwBV,SAASgB,IACHC,IAAAA,EAAc,KAElB9B,SAASO,iBAAiB,QAYjBwB,SAAYtB,GACfA,GAAyB,OAAzBA,EAAMC,OAAOsB,SACa,OAAzBvB,EAAMC,OAAOsB,UACZF,EACJ,OAGFA,EAAYG,UAAUC,OAAO,UAC7BJ,EAAc,OAnBhB/B,EAAMe,QAAQ,GAAGP,iBAAiB,QAEzB4B,SAAW1B,GACdqB,GACFA,EAAYG,UAAUC,OAAO,WAG/BJ,EAAcrB,EAAMC,OAAO0B,eACfH,UAAUI,IAAI,YAe9B,SAASC,IACPpC,EAAK+B,UAAUI,IAAI,qBAEnBnC,EAAKqC,mBAAmB,aAAxB,m6BAoDAvC,SAASwC,KAAKb,OAAOzB,GAGvB,SAASuC,IACHC,IAAAA,GAAc,EAElBxC,EAAKyC,iBAAiBpC,iBAAiB,QAE9BqC,SAAWnC,GAKdiC,GAJJjC,EAAMoC,iBAcF3C,EAAK4C,KAAKC,MAAMC,OAAS,IAAMvB,OAAOvB,EAAK4C,KAAKC,QAClDE,EACE,QACA,QACA,SAGA,yFAAA,SAEFP,GAAc,GAKZxC,EAAKgD,SAASH,MAAMC,OAAS,IAAMvB,OAAOvB,EAAKgD,SAASH,QAC1DE,EACE,QACA,QACA,SAGA,sFAAA,SAEFP,GAAc,GAKXxC,EAAKiD,OAAOJ,MAab7C,EAAKkD,IAAIL,MAAQ,IAAM7C,EAAKkD,IAAIL,MAAQ,IAC1CE,EACE,QACA,QACA,SACA,mDACA,SAEFP,GAAc,GAKZxC,EAAKmD,OAAON,MAAQ,KACtBE,EACE,QACA,QACA,SACA,4DACA,SAEFP,GAAc,GAKhBA,GAAc,GAtCZO,EACE,QACA,QACA,UAEA,kDAAA,WAEFP,GAAc,GA9CZA,EACF,OAgFIY,EAActD,SAASG,cAAc,MAE3CmD,EAAYf,mBAAmB,aACvBrC,eAAAA,OAAAA,EAAK4C,KAAKC,MACV7C,qBAAAA,OAAAA,EAAKgD,SAASH,MACd7C,qBAAAA,OAAAA,EAAKiD,OAAOJ,MACZ7C,qBAAAA,OAAAA,EAAKkD,IAAIL,MACRQ,sBAAAA,OAAAA,OAAOrD,EAAKmD,OAAON,OAAOS,eAAe,SALlD,cAQAzD,EAAMe,QAAQ,GAAGa,OAAO2B,GAExBL,EACE,QACA,QACA,UACA,uBACA,WA5FE/C,EAAAA,EAAKuD,UAAUC,QAAQ,SAAAC,GAAMA,OAAAA,EAAEZ,MAAQY,EAAEC,aAAa,WA0EnDC,IACDP,IAsBV,SAASL,EAAiBa,EAAKC,EAAOC,EAAOC,EAAaC,GAClDC,IAAAA,EAAUnE,SAASG,cAAc,OAEvCgE,EAAQC,UAA4BF,gBAAAA,OAAAA,GACpCC,EAAQE,MAAMP,IAAMA,EACpBK,EAAQE,MAAMN,MAAQA,EAEtBI,EAAQ5B,mBAAmB,aACLyB,2BAAAA,OAAAA,EAEhBC,0BAAAA,OAAAA,EAHN,mBAOAjE,SAASwC,KAAKb,OAAOwC,GAErBG,WAAW,WAAMH,OAAAA,EAAQjC,UAAU,KAGrC,SAASqC,IACPxE,EAAMsE,MAAMG,WAAa,OACzBzE,EAAMe,QAAQ,GAAGP,iBAAiB,WAEzBkE,SAAShE,GACViE,IAAAA,EAAOjE,EAAMC,OACbiE,EAAYD,EAAKrD,YACjBuD,EAAQ5E,SAASG,cAAc,SAc5B0E,SAAAA,IACC,QAAA,GACD,KAACD,EAAM7B,MACP4B,KAAqB,IAArBA,EAAU3B,QAAgBvB,OAAOmD,EAAM7B,OACvC4B,KAAqB,IAArBA,EAAU3B,UAAkB4B,EAAM7B,MAAQ,KAAO6B,EAAM7B,MAAQ,IAC/DtB,KAAAA,OAAOkD,EAAUnD,QAAQ,WAAY,MAClCoD,EAAM7B,MAAMC,OAAS,EACxB,KAACvB,OAAOkD,EAAUnD,QAAQ,WAAY,MACnCC,OAAOmD,EAAM7B,MAAMvB,QAAQ,WAAY,KAC1CC,KAAAA,OAAOkD,EAAUnD,QAAQ,WAAY,OACjCC,OAAOmD,EAAM7B,MAAMvB,QAAQ,WAAY,KAC9CkD,EAAKI,UAAYH,EACjB,MAEF,QACED,EAAKI,UAAYF,EAAM7B,OA3B7B6B,EAAMR,UAAY,aAClBQ,EAAM7B,MAAQ4B,EACdC,EAAMP,MAAMU,MAAQC,OAAOC,iBAAiBP,GAAMK,MAElDL,EAAKI,UAAY,GACjBJ,EAAKL,MAAMa,QAAU,OACrBR,EAAK/C,OAAOiD,GAEZA,EAAMO,QACNP,EAAMrE,iBAAiB,OAAQsE,GAC/BD,EAAMrE,iBAAiB,UAqBd6E,SAASC,GACW,UAAvBA,EAAcC,MAChBT,QA/SRzE,IACAyB,IACAS,IACAG,IACA8B","file":"main.165bfe67.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst form = document.createElement('form');\n\naddTableSorting();\naddRowSelecting();\ncreateForm();\naddNewEmployeeAppending();\naddTableEditing();\n\nfunction addTableSorting() {\n  let clickedHeaderIndex = null;\n\n  table.tHead.addEventListener('click', headClickHandler);\n\n  function headClickHandler(event) {\n    clickedHeaderIndex = (clickedHeaderIndex !== event.target.cellIndex)\n      ? event.target.cellIndex\n      : null;\n\n    sortList(event.target.cellIndex);\n  }\n\n  function sortList(index) {\n    const sortedRows = [...table.tBodies[0].rows].sort((a, b) => {\n      let first = a.cells[index].textContent;\n      let second = b.cells[index].textContent;\n\n      if (first.includes('$')) {\n        first = first.replace(/[$,]/g, '');\n        second = second.replace(/[$,]/g, '');\n      }\n\n      if (clickedHeaderIndex === index) {\n        return isNaN(+first)\n          ? first.localeCompare(second)\n          : (+first) - (+second);\n      } else {\n        return isNaN(+first)\n          ? second.localeCompare(first)\n          : (+second) - (+first);\n      }\n    });\n\n    table.tBodies[0].append(...sortedRows);\n  }\n}\n\nfunction addRowSelecting() {\n  let selectedRow = null;\n\n  document.addEventListener('click', makePassive);\n  table.tBodies[0].addEventListener('click', makeActive);\n\n  function makeActive(event) {\n    if (selectedRow) {\n      selectedRow.classList.remove('active');\n    }\n\n    selectedRow = event.target.parentElement;\n    selectedRow.classList.add('active');\n  }\n\n  function makePassive(event) {\n    if (event.target.tagName === 'TD'\n      || event.target.tagName === 'TH'\n      || !selectedRow) {\n      return;\n    }\n\n    selectedRow.classList.remove('active');\n    selectedRow = null;\n  }\n}\n\nfunction createForm() {\n  form.classList.add('new-employee-form');\n\n  form.insertAdjacentHTML('afterbegin', `\n    <label>Name:\n      <input\n        name=\"name\"\n        type=\"text\"\n        minlength=\"4\"\n        required\n      >\n    </label>\n\n    <label>Position:\n      <input\n        name=\"position\"\n        type=\"text\"\n        minlength=\"4\"\n        required\n      >\n    </label>\n\n    <label>Office:\n      <select name=\"office\" required>\n        <option>Tokyo</option>\n        <option>Singapore</option>\n        <option>London</option>\n        <option>New York</option>\n        <option>Edinburgh</option>\n        <option>San Francisco</option>\n      </select>\n    </label>\n\n    <label>Age:\n      <input\n        name=\"age\"\n        type=\"number\"\n        min=\"18\"\n        max=\"90\"\n        required\n      >\n    </label>\n\n    <label>Salary:\n      <input\n        name=\"salary\"\n        type=\"number\"\n        min=\"40000\"\n        required\n      >\n    </label>\n\n    <button>Save to table</button>\n`);\n\n  document.body.append(form);\n}\n\nfunction addNewEmployeeAppending() {\n  let isWrongData = false;\n\n  form.lastElementChild.addEventListener('click', addToTable);\n\n  function addToTable(event) {\n    event.preventDefault();\n\n    validateInput();\n\n    if (isWrongData) {\n      return;\n    }\n\n    createNewEmployee();\n\n    [...form.elements].forEach(i => (i.value = i.getAttribute('value')));\n  }\n\n  function validateInput() {\n    if (form.name.value.length < 4 || !isNaN(+form.name.value)) {\n      pushNotification(\n        '450px',\n        '170px',\n        'Error!',\n        `Name cannot be less than 4 letters!\n         Do not forget to include your last name.`,\n        'error'\n      );\n      isWrongData = true;\n\n      return;\n    }\n\n    if (form.position.value.length < 4 || !isNaN(+form.position.value)) {\n      pushNotification(\n        '450px',\n        '170px',\n        'Error!',\n        `Position cannot be less than 4 letters.\n         We already have an excellent CEO!`,\n        'error'\n      );\n      isWrongData = true;\n\n      return;\n    }\n\n    if (!form.office.value) {\n      pushNotification(\n        '450px',\n        '170px',\n        'Warning',\n        `Unfortunately we do not have a remote position.`,\n        'warning'\n      );\n      isWrongData = true;\n\n      return;\n    }\n\n    if (form.age.value < 18 || form.age.value > 90) {\n      pushNotification(\n        '450px',\n        '170px',\n        'Error!',\n        'You are too young or too old, ageism is forever!',\n        'error'\n      );\n      isWrongData = true;\n\n      return;\n    }\n\n    if (form.salary.value < 40000) {\n      pushNotification(\n        '450px',\n        '170px',\n        'Error!',\n        'Our employees have a good salary! (Not less than $40,000)',\n        'error'\n      );\n      isWrongData = true;\n\n      return;\n    }\n\n    isWrongData = false;\n  }\n\n  function createNewEmployee() {\n    const newEmployee = document.createElement('tr');\n\n    newEmployee.insertAdjacentHTML('afterbegin', `\n      <td>${form.name.value}</td>\n      <td>${form.position.value}</td>\n      <td>${form.office.value}</td>\n      <td>${form.age.value}</td>\n      <td>$${Number(form.salary.value).toLocaleString('en-US')}</td>\n  `);\n\n    table.tBodies[0].append(newEmployee);\n\n    pushNotification(\n      '450px',\n      '170px',\n      'Success',\n      'Welcome to the team!',\n      'success'\n    );\n  }\n}\n\nfunction pushNotification(top, right, title, description, type) {\n  const message = document.createElement('div');\n\n  message.className = `notification ${type}`;\n  message.style.top = top;\n  message.style.right = right;\n\n  message.insertAdjacentHTML('afterbegin', `\n    <h2 class=\"title\">${title}</h2>\n    <p>\n      ${description}\n    </p>\n  `);\n\n  document.body.append(message);\n\n  setTimeout(() => message.remove(), 3000);\n}\n\nfunction addTableEditing() {\n  table.style.userSelect = 'none';\n  table.tBodies[0].addEventListener('dblclick', editCell);\n\n  function editCell(event) {\n    const cell = event.target;\n    const initValue = cell.textContent;\n    const input = document.createElement('input');\n\n    input.className = 'cell-input';\n    input.value = initValue;\n    input.style.width = window.getComputedStyle(cell).width;\n\n    cell.innerHTML = '';\n    cell.style.padding = '17px'; // hello Mozilla\n    cell.append(input);\n\n    input.focus();\n    input.addEventListener('blur', addEdit);\n    input.addEventListener('keydown', checkKey);\n\n    function addEdit() {\n      switch (true) {\n        case !input.value:\n        case initValue.length === 2 && isNaN(+input.value):\n        case initValue.length === 2 && (+input.value < 18 || +input.value > 90):\n        case isNaN(+initValue.replace(/(^\\$)|,/g, ''))\n             && input.value.length < 4:\n        case !isNaN(+initValue.replace(/(^\\$)|,/g, ''))\n             && isNaN(+input.value.replace(/(^\\$)|,/g, '')):\n        case isNaN(+initValue.replace(/(^\\$)|,/g, ''))\n             && !isNaN(+input.value.replace(/(^\\$)|,/g, '')):\n          cell.innerHTML = initValue;\n          break;\n\n        default:\n          cell.innerHTML = input.value;\n      }\n    }\n\n    function checkKey(keyboardEvent) {\n      if (keyboardEvent.code === 'Enter') {\n        addEdit();\n      }\n    }\n  }\n}\n"]}